const express = require("express");
const app = express();
const dfff = require("dialogflow-fulfillment");

app.engine('html', require('ejs').renderFile);
app.set('view engine', 'html');

app.use(express.static(__dirname + "/views"))

app.get("/",(req,res) => {
  res.render("index.html")
});



app.post("/",express.json(),(req,res) => {
  const agent = new dfff.WebhookClient({
      request : req,
      response : res
  });

    function awards(agent){
      agent.add('Awards And Achievements Received By PCCOER')
      agent.add('<head><style>.carousel-inner{border-radius:10px;} .container{width:730px !important;}</style></head><div class="container"><br><div id="myCarousel" class="carousel slide" data-ride="carousel"><div class="carousel-inner" role="listbox"><div class="item active"><img src="http://pccoer.com/images/awards-achievements/award3.jpg" alt="Chania" width="800" height="425"><div class="carousel-caption"><p>Most copyrights in one day</p></div></div><div class="item"><img src="http://pccoer.com/images/awards-achievements/award4.jpg" alt="Chania" width="800" height="425"><div class="carousel-caption"><p>Go Kart and Baja Event Awards 2018-19</p></div></div><div class="item"><img src="http://pccoer.com/images/awards-achievements/awards-achievements3.jpg"alt="Flower"width="800"height="425"><div class="carousel-caption"><p>Most Result Oriented College Award by Prime Time Global</p></div></div><div class="item"><img src="http://pccoer.com/images/awards-achievements/award1.jpg" alt="Flower" width="800" height="425"><div class="carousel-caption"><p>Team Byte-us Winner in Smart India Hackathon 2019</p></div></div></div><!-- Left and right controls --><a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span><span class="sr-only">Previous</span></a><a class="right carousel-control" href="#myCarousel" role="button" data-slide="next"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span><span class="sr-only">Next</span></a></div></div>')
    }
    

    function CompHOD_card(agent) {
      agent.add('H.O.D of computer department is Dr. Archana Chaugule.');
      agent.add('<head><link href="https://fonts.googleapis.com/css2?family=Pathway+Gothic+One&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Big+Shoulders+Inline+Display:wght@600&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Big+Shoulders+Inline+Display:wght@600&display=swap" rel="stylesheet"></head><style>.line-holder{height:23px;} ul {list-style-position: inside;list-style-type: circle;overflow-y: hidden;overflow-x: hidden;}ul li {background-color:#0000;}* {box-sizing: border-box;}a {text-decoration: none;}i {letter-spacing: 0;}.title { font-family: "Big Shoulders Inline Display", cursive;}.arrow-list{ color: white; font-size: 10px;  } .inner-inner-list{ list-style: none;  } .inner-inner-list::before{ content: "\261E"; }.inner-inner-list {  font-size: 12px;  margin-left: 21px;}.item {  width: 530px;  height: 613px;  background: #222;  position: relative;  box-shadow: -15px 7px 30px rgba(0, 0, 0, 0.2);  overflow: hidden;  border-radius: 10px;}.item .img {  width: 100%;  height: 50%;  background: black;  border-radius: 10px 10px 0 0;  position: absolute;  z-index: 5;  overflow: hidden;}.item .img-content {  width: 100%;  height: 100%;  transition: 0 !important;  background-size: cover;  background-position: top center;  background-repeat: no-repeat;}.item .text-container {  width: 100%;  height: 56%;  background: #222;  border-radius: 10px;  position: absolute;  bottom: 0;  z-index: 10;  box-shadow: -3px -10px 10px rgba(0, 0, 0, 0.3);  overflow: hidden;  padding: 30px 20px 20px 20px;  display: flex;  flex-direction: column;  color: whitesmoke;  font-family: "Roboto Condensed", sans-serif;}.item .content {  height: 83%;  margin-bottom: 2px;  overflow: hidden;}.item .social {  width: 100%;  height: 50px;  position: absolute;  z-index: 15;  top: 40%;  display: flex;  justify-content: flex-end;}.item h2 {  margin-bottom: 10px;  margin-top: 10px;}.item .social div {  width: 50px;  height: 50px;  background: green;  margin: 0 5px;  border-radius: 50%;  cursor: pointer;  box-shadow: 0 0 10px rgba(0, 0, 0, 0.7);  display: flex;  justify-content: center;  align-items: center;.item .social a:last-child {  margin-right: 20px;}.item a .tw {  background-color: #0084b4;}.item a .fb {  background-color: #3b5998;}.item a .ig {  background-color: #cd486b;}</style><div class="item item-1"><div class="img"><div class="img-content"><img src="https://pccoer.com/computer/images/new/hod-comp-dept-pccoer.JPG" height="300" width="530"></div></div><div class="text-container"><h2 class="title">Dr.Archana Chaugule</h2><span class="line-holder"><hr class="line" style="background-color: #f5f5f5 ; height:1px"></span><div class="content"> <p><ul style="list-style-position: inside; list-style-type: circle;"><li><strong>Designation</strong> : Professor & Head of the Computer Department</li><br><li><strong>Qualification</strong> : Ph.D(Comp. Engg)</li><br><li><strong>Experience</strong> : Teaching - 18.9 Years & Industry: 1.5 Years</li><br><li><strong>Email Id</strong> : archana.chaugule@pccoer.in</li><br><li><strong>Awards & Achievements</strong> : <div style="padding-top: 2px;"></div><ul style="list-style-type:" class="arrow-list"><li class="inner-inner-list">&nbsp;Best Researcher Award by DK International Research Foundation Tamil Nadu</li><div style="padding-top: 3px;"></div><li class="inner-inner-list">&nbsp;InSc Research Excellence Award 2019 by Institutes of Scholars</li><div style="padding-top: 3px;"></div><li class="inner-inner-list"><strong>&nbsp;Patents</strong> : System for Seed Testing | Fertilizerometer </li></ul></li></ul></p></div></div></div>')
      
    }

    function CompHOD_hi_card(agent) {
      agent.add('Computer Department के HOD का नाम डॉ। अर्चना चौगुले है');
      agent.add('<head><link href="https://fonts.googleapis.com/css2?family=Pathway+Gothic+One&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Big+Shoulders+Inline+Display:wght@600&display=swap" rel="stylesheet"> <link href="https://fonts.googleapis.com/css2?family=Big+Shoulders+Inline+Display:wght@600&display=swap" rel="stylesheet"></head><style>.line-holder{height:23px;} ul {list-style-position: inside;list-style-type: circle;overflow-y: hidden;overflow-x: hidden;}ul li {background-color:#0000;}* {box-sizing: border-box;}a {text-decoration: none;}i {letter-spacing: 0;}.title { font-family: "Big Shoulders Inline Display", cursive;}.arrow-list{ color: white; font-size: 10px;  } .inner-inner-list{ list-style: none;  } .inner-inner-list::before{ content: "\261E"; }.inner-inner-list {  font-size: 12px;  margin-left: 21px;}.item {  width: 530px;  height: 613px;  background: #222;  position: relative;  box-shadow: -15px 7px 30px rgba(0, 0, 0, 0.2);  overflow: hidden;  border-radius: 10px;}.item .img {  width: 100%;  height: 50%;  background: black;  border-radius: 10px 10px 0 0;  position: absolute;  z-index: 5;  overflow: hidden;}.item .img-content {  width: 100%;  height: 100%;  transition: 0 !important;  background-size: cover;  background-position: top center;  background-repeat: no-repeat;}.item .text-container {  width: 100%;  height: 56%;  background: #222;  border-radius: 10px;  position: absolute;  bottom: 0;  z-index: 10;  box-shadow: -3px -10px 10px rgba(0, 0, 0, 0.3);  overflow: hidden;  padding: 30px 20px 20px 20px;  display: flex;  flex-direction: column;  color: whitesmoke;  font-family: "Roboto Condensed", sans-serif;}.item .content {  height: 83%;  margin-bottom: 2px;  overflow: hidden;}.item .social {  width: 100%;  height: 50px;  position: absolute;  z-index: 15;  top: 40%;  display: flex;  justify-content: flex-end;}.item h2 {  margin-bottom: 10px;  margin-top: 10px;}.item .social div {  width: 50px;  height: 50px;  background: green;  margin: 0 5px;  border-radius: 50%;  cursor: pointer;  box-shadow: 0 0 10px rgba(0, 0, 0, 0.7);  display: flex;  justify-content: center;  align-items: center;.item .social a:last-child {  margin-right: 20px;}.item a .tw {  background-color: #0084b4;}.item a .fb {  background-color: #3b5998;}.item a .ig {  background-color: #cd486b;}</style><div class="item item-1"><div class="img"><div class="img-content"><img src="https://pccoer.com/computer/images/new/hod-comp-dept-pccoer.JPG" height="300" width="530"></div></div><div class="text-container"><h2 class="title">डॉ.अर्चना चौगुले</h2><span class="line-holder"><hr class="line" style="background-color: #f5f5f5 ; height:1px"></span><div class="content"> <p><ul style="list-style-position: inside; list-style-type: circle;"><li><strong>Designation</strong> : Professor & Head of the Computer Department</li><br><li><strong>Qualification</strong> : Ph.D(Comp. Engg)</li><br><li><strong>Experience</strong> : Teaching - 18.9 Years & Industry: 1.5 Years</li><br><li><strong>Email Id</strong> : archana.chaugule@pccoer.in</li><br><li><strong>Awards & Achievements</strong> : <div style="padding-top: 2px;"></div><ul style="list-style-type:" class="arrow-list"><li class="inner-inner-list">&nbsp;Best Researcher Award by DK International Research Foundation Tamil Nadu</li><div style="padding-top: 3px;"></div><li class="inner-inner-list">&nbsp;InSc Research Excellence Award 2019 by Institutes of Scholars</li><div style="padding-top: 3px;"></div><li class="inner-inner-list"><strong>&nbsp;Patents</strong> : System for Seed Testing | Fertilizerometer </li></ul></li></ul></p></div></div></div>')
      
    }    

    function CompProf_list(agent) {
      agent.add('Here is the list of Faculties for computer department');
      agent.add('<ul id="services-list"><li><a href="https://www.google.com" class="image"><img src="http://pccoer.com/computer/images/new/archanachaugule.png" alt="Facebook Icon" /></a><div class="content"><h3>Dr. Archana Ajit Chaugule</h3><p><i class="fas fa-graduation-cap"></i> &nbsp; Ph.D(Comp. Engg)</p><p><i class="fas fa-university"></i> &nbsp; &nbsp; Teaching - 18.9 Years & Industry: 1.5 Years</p><p><i class="fas fa-envelope-open"></i> &nbsp; &nbsp;  archana.chaugule@pccoer.in</p></div></li><li><a href="https://www.google.com" class="image"><img src="http://pccoer.com/computer/images/new/mahendra.png" alt="Facebook Icon" /></a><div class="content"><h3>Mr. Mahendra Balkrishna Salunke</h3><p><i class="fas fa-graduation-cap"></i> &nbsp; M-Tech.(Comp.Sci.& Engg), PhD (Pursuing)</p><p><i class="fas fa-university"></i> &nbsp; &nbsp; Teaching - 15.5 Year & Industry: 5.9 Year</p><p><i class="fas fa-envelope-open"></i> &nbsp; &nbsp;  mahendra.salunke@pccoer.in</p></div></li><li><a href="https://www.google.com" class="image"><img src="http://pccoer.com/computer/images/new/sonali.png" alt="Facebook Icon" /></a><div class="content"><h3>Mrs. Sonali S. Lunawat</h3><p><i class="fas fa-graduation-cap"></i> &nbsp; B.E.(CE), M.E. (Computer Engineering)</p><p><i class="fas fa-university"></i> &nbsp; &nbsp; Teaching – 12 Years</p><p><i class="fas fa-envelope-open"></i> &nbsp; &nbsp; sonali.lunawat@pccoer.in</p></div></li><li><a href="https://www.google.com" class="image"><img src="http://pccoer.com/computer/images/new/jameer_kotwal.jpg" alt="Facebook Icon" /></a><div class="content"><h3>Mr. Jameer Kotwal</h3><p><i class="fas fa-graduation-cap"></i> &nbsp;  M.Tech (CSE),Phd(pursuing)</p><p><i class="fas fa-university"></i> &nbsp; &nbsp; 12 Years</p><p><i class="fas fa-envelope-open"></i> &nbsp; &nbsp; jameer.kotwal@pccoer.in</p></div></li><li><a href="https://www.google.com" class="image"><img src="http://pccoer.com/computer/images/new/madhuri.png" alt="Facebook Icon" /></a><div class="content"><h3>Mrs. Madhuri H. Badole</h3><p><i class="fas fa-graduation-cap"></i> &nbsp;  B.E., M.E.(WCC)</p><p><i class="fas fa-university"></i> &nbsp; &nbsp; 7 Years</p><p><i class="fas fa-envelope-open"></i> &nbsp; &nbsp; madhuri.badole@pccoer.in</p></div></li><li><a href="https://www.google.com" class="image"><img src="http://pccoer.com/computer/images/vaishalil.png" alt="Facebook Icon" /></a><div class="content"><h3>Ms. Vaishali Prasad Latke</h3><p><i class="fas fa-graduation-cap"></i> &nbsp; BE Computer Engineering, ME Computer Engineering</p><p><i class="fas fa-university"></i> &nbsp; &nbsp; 10 Years</p><p><i class="fas fa-envelope-open"></i> &nbsp; &nbsp;  vaishali.latke@pccoer.in</p></div></li><li><a href="https://www.google.com" class="image"><img src="https://pccoerbot.files.wordpress.com/2019/02/amol.png" alt="Facebook Icon" /></a><div class="content"><h3>Mr. Amol N. Dumbare</h3><p><i class="fas fa-graduation-cap"></i> &nbsp; B.E. Computer, M.Tech(CSE), PhD(Pursuing)</p><p><i class="fas fa-university"></i> &nbsp; &nbsp; 8 Years</p><p><i class="fas fa-envelope-open"></i> &nbsp; &nbsp; amol.dumbare@pccoer.in</p></div></li></ul>')
    }

    function infra_labs(agent){
      agent.add("Our Campus is equipped with top-notch facilities.");
      agent.add('<h2>Gallery</h2><table><tr><th class="TH">BME(Mech) Lab</th><th class="TH">Physics Lab</th> <th class="TH">Chemistry Lab</th></tr><tr><td><img src="https://pccoer.com/images/facilities/BME(Mech)lab.jpg" class="tab"></td><td><img src="https://pccoer.com/images/facilities/Physicslab.jpg" class="tab"></td><td><img src="https://pccoer.com/images/facilities/Chemistrylab.jpg" class="tab"></td></tr><tr><th class="TH">Civil Lab</th><th class="TH">BME</th><th class="TH">NDJ</th></tr><tr><td><img src="https://pccoer.com/images/facilities/Civillab.jpg" class="tab"></td><td><img src="https://pccoer.com/images/facilities/BME(Mech)lab.jpg" class="tab"></td><td><img src="https://pccoer.com/images/facilities/BME(Mech)lab.jpg" class="tab"></td></tr></table>')
    }

    function Bus_Route1(agent){
      agent.add("Refer to the routes displayed in the Map, I suggest you to confirm from the admin office as well.");
      agent.add("<img src='https://previews.dropbox.com/p/thumb/AA8S5vae0OupmtrNiFC1n4bZM-vLq3m0UCgUOLlV1pvir1J0j7FVJzwJXh0BY26tlyzd5RJQP8pE0e_V1rTHwFzDJy5NAq56FNJfJMWIyShX69M1XWWX4jzhx3XhPNvst8bilfKz64BY04m0Q1wn29hw2hPV7I6CVd_k8gjdiTxkVByBs96VfPkq_EDbBPeI01UNE2FhigvoI9zXCHq3S0zjR2PnUux1YMFq1tugjOo2QLAGceJTuJrXYTc3vgzPP8iJks94yUfcv6HZ3aFs6eW1k8F6ntNyc_h8qRLL0sR-nE2dGbz79a0BLfkVl4JxF04gZERAkRTjPqb-3mUT7Pi7Y8YSzLjWtjnTfFU5hREFFT7poaQpRYuJdSJFD_84qT0/p.png?fv_content=true&size_mode=5' style= width:850px;>");
    }



    var intentMap = new Map();
    intentMap.set("Achievements and Awards", awards);
    intentMap.set("HOD - Comp",CompHOD_card);
    intentMap.set("HOD - Comp-hi",CompHOD_hi_card);
    intentMap.set("Teachers List-Computer",CompProf_list);
    intentMap.set("labs-gallery",infra_labs);
    intentMap.set("Bus Route 1",Bus_Route1);
    intentMap.set("Bus Route 1",Bus_Route1);
    agent.handleRequest(intentMap);
 });

app.listen(3333,()=>console.log("WebhookSever is live at 3333"));





